<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>MM</title>
	<meta name="description" content="Michael Martinez Blog">
	 <meta name="viewport" content="width=100%; initial-scale=1; maximum-scale=1; minimum-scale=1; user-scalable=no;" />
	<meta name="author" content="Michael Martinez">

	<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="./theme/html5.js"></script>
	<![endif]-->

	<!-- Le styles -->
	<link href="./theme/bootstrap.css" rel="stylesheet">
	<link href="./theme/bootstrap-custom-grid.css" rel="stylesheet">
	<link href="./theme/monk.css" rel="stylesheet">
	<link href="./theme/pygments.css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="./theme/font-awesome.css">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script src="./theme/bootstrap.min.js"></script>
	<script type="text/javascript" src="./theme/jquery.ui.totop.js"></script>
           <script type="text/javascript" src="./theme/monkjs.js"></script>
           <script type="text/javascript" src="./theme/chirp.min.js"></script>
           <script type="text/javascript" src="./theme/superfish.js"></script>

		<!---->
	<!---->
	<!--<a href="http://github.com/MichaelMartinez"><img style="position: absolute; top: 39px; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub" /></a>
-->

	<!-- <link rel="shortcut icon" href="assets/ico/favicon.ico">
	<link rel="apple-touch-icon" href="assets/ico/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="assets/ico/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="assets/ico/apple-touch-icon-114x114.png"> -->
            
        <meta name="twitter:card" content="summary">
        <meta name="og:url" content="./playing-with-tweepy.html">
                            <meta name="twitter:site:id" content="">
                            <meta name="twitter:site" content="">
                                        <meta name="twitter:creator:id" content="">
                            <meta name="twitter:creator" content="@monkmartinez">
                    <meta name="og:title" content="Playing with Tweepy">
        <meta name="og:description" content="Tweepy in iPython Notebook. I've wanted to have a play with the Twitter API for a few months. There is a lot of complexity in this API, so I looked for a library that abstracted as much as possible">
        
</head>
<body >

<div class="container wrap">
<section id="top-menu">
    <div class="row-fluid">
        <div class="span6">
            <a class="MyLogo" href="index.html">MM</a>
        </div>
        <div class="span6 hidden-phone">
        	<div id='mysocial'>
        		<ul>
        			<li><a href="http://github.com/MichaelMartinez"><i class="icon-github"></i></a></li>
        			<li><a href="https://plus.google.com/u/0/106657123530243977683/"><i class="icon-google-plus"></i></a></li>
        			<li><a href="http://twitter.com/MonkMartinez"><i class="icon-twitter"></i></a></li>
        			<li><a href="http://www.linkedin.com/pub/michael-martinez/26/914/407"><i class="icon-linkedin"></i></a></li>
        		</ul>
        	</div>
    </div>
</section>

<header id="header">
    <nav id="menu" class="clearfix">
        <ul>
            <li><a href="./index.html">Home</a></li>
            <li><a href="#">Labs</a></li>
            <li><a href="#">Apps</a>
                <ul>
                    <li class="first"><a href="engineer-toolkit.html">Engineer Toolkit</a></li>
                    <li><a href="abecedario-infantil.html">Abecedario Infantil</a></li>
                </ul>
            </li>
            <li><a href="#">Notes</a>
             <ul>
                    <li class="first"><a href="notes/math-notes.html">Math Notes</a></li>
                    <li><a href="notes/books.html">Book Notes</a></li>
                    <li><a href="notes/pythonemacs.html">Emacs - Python Notes</a></li>
                    <li class="last"><a href="notes/virt-machines.html">Virtual Machine Setup</a></li>
                </ul>
            </li>
        </ul>
    </nav>
   </header>

<!--container-->
<section id="container" class="clearfix sidebar-right">
        <div class="row-fluid">
            <section id="page-sidebar" class="alignleft span8">



                <!-- This is my content as described in index.html -->
				<div class='article'>
		  <div class="page-title clearfix"><h1>Playing with Tweepy</h1>
			<ul class="meta clearfix">
			<li>When: <a class="more" href="./playing-with-tweepy.html">April 2013</a></li>
<li>Who: <a class="url fn" href="./author/michael-martinez.html">Michael Martinez</a> in <a href="./category/ipython-notebooks.html">iPython-Notebooks</a></li>
		           </ul>
		</div>
		<article class="blog-post">
		<div><p>Tweepy in iPython Notebook. I've wanted to have a play with the Twitter API
for a few months. There is a lot of complexity in this API, so I looked for
a library that abstracted as much as possible. Tweepy was the first to grab
my attention.</p>
<p>Another library that I plan on trying is <a href="http://mike.verdone.ca/twitter/">Python Twitter Tools</a>.
In hindsight, I probably should have gone with PTT to start as Tweepy returns
inconsistent data when accessing various API endpoints. Not to say Tweepy is bad,
because it worked well for these basic examples.</p>
<p><a class="btn btn-large" href="/static/ipynb/Tweepy.ipynb"><i class="icon-download-alt"></i> Download this Notebook</a></p>
<p>This is to set-up tweepy and oauth to play with the Twitter API</p>
<ul>
<li>google group is <a href="https://groups.google.com/forum/?fromgroups=#!forum/tweepy">here:</a></li>
<li>docs <a href="http://packages.python.org/tweepy/html/index.html">here:</a></li>
<li>github repo <a href="https://github.com/tweepy/tweepy">here:</a></li>
</ul>
<p>In[1]:</p>
<div class="codehilite"><pre><span class="kn">import</span> <span class="nn">tweepy</span>

<span class="c"># The consumer keys can be found on your application&#39;s Details</span>
<span class="c"># page located at https://dev.twitter.com/apps (under &quot;OAuth settings&quot;)</span>
<span class="n">consumer_key</span><span class="o">=</span><span class="s">&quot;&lt;key here&gt;&quot;</span>
<span class="n">consumer_secret</span><span class="o">=</span><span class="s">&quot;&lt;secret here&gt;&quot;</span>

<span class="c"># The access tokens can be found on your applications&#39;s Details</span>
<span class="c"># page located at https://dev.twitter.com/apps (located</span>
<span class="c"># under &quot;Your access token&quot;)</span>
<span class="n">access_token</span><span class="o">=</span><span class="s">&quot;&lt;access token here&gt;&quot;</span>
<span class="n">access_token_secret</span><span class="o">=</span><span class="s">&quot;&lt;access ssecret here&gt;&quot;</span>

<span class="n">auth</span> <span class="o">=</span> <span class="n">tweepy</span><span class="o">.</span><span class="n">OAuthHandler</span><span class="p">(</span><span class="n">consumer_key</span><span class="p">,</span> <span class="n">consumer_secret</span><span class="p">)</span>
<span class="n">auth</span><span class="o">.</span><span class="n">set_access_token</span><span class="p">(</span><span class="n">access_token</span><span class="p">,</span> <span class="n">access_token_secret</span><span class="p">)</span>

<span class="n">myapi</span> <span class="o">=</span> <span class="n">tweepy</span><span class="o">.</span><span class="n">API</span><span class="p">(</span><span class="n">auth</span><span class="p">)</span>

<span class="c"># If the authentication was successful, you should</span>
<span class="c"># see the name of the account print out</span>
<span class="k">print</span> <span class="n">myapi</span><span class="o">.</span><span class="n">me</span><span class="p">()</span><span class="o">.</span><span class="n">name</span>

<span class="n">Michael</span> <span class="n">Martinez</span>
</pre></div>


<p>If the request was successful, you will see your name print out in the response</p>
<p>In[2]:</p>
<div class="codehilite"><pre><span class="n">myapi</span><span class="o">.</span><span class="n">update_status</span><span class="p">(</span><span class="s">&#39;Rocking #iPythonNotebook and tweepy&#39;</span><span class="p">)</span>
</pre></div>


<p>Out[2]:</p>
<div class="codehilite"><pre> <span class="o">&lt;</span><span class="n">tweepy</span><span class="p">.</span><span class="n">models</span><span class="p">.</span><span class="n">Status</span> <span class="n">at</span> 0<span class="n">x107ca3550</span><span class="o">&gt;</span>
</pre></div>


<hr />
<h2>The user object</h2>
<p>Showing a method to access some variables returned by twitter</p>
<p>In[3]:</p>
<div class="codehilite"><pre><span class="k">print</span> <span class="n">myapi</span><span class="o">.</span><span class="n">me</span><span class="p">()</span><span class="o">.</span><span class="n">screen_name</span>

 <span class="n">MonkMartinez</span>
</pre></div>


<p>In[4]:</p>
<div class="codehilite"><pre><span class="k">print</span> <span class="n">myapi</span><span class="o">.</span><span class="n">me</span><span class="p">()</span><span class="o">.</span><span class="n">description</span>

 <span class="n">Father</span><span class="o">.</span> <span class="n">Firefighter</span><span class="o">.</span> <span class="n">Mobile</span> <span class="n">Crafter</span><span class="o">.</span> <span class="n">Web</span> <span class="n">Crafter</span><span class="o">.</span> <span class="n">Garage</span><span class="o">-</span><span class="n">Business</span><span class="o">-</span><span class="n">Dude</span><span class="o">.</span>
</pre></div>


<p>In[5]:</p>
<div class="codehilite"><pre><span class="n">me</span> <span class="o">=</span> <span class="n">myapi</span><span class="o">.</span><span class="n">me</span><span class="p">()</span>
</pre></div>


<p>In[6]:</p>
<div class="codehilite"><pre><span class="k">print</span> <span class="n">me</span><span class="o">.</span><span class="n">followers_count</span>

 <span class="mi">116</span>
</pre></div>


<p>In[7]:</p>
<div class="codehilite"><pre><span class="n">me</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">text</span>
</pre></div>


<p>Out[7]:</p>
<div class="codehilite"><pre> <span class="n">u</span><span class="o">&#39;</span><span class="n">Rocking</span> #<span class="n">iPythonNotebook</span> <span class="n">and</span> <span class="n">tweepy</span><span class="o">&#39;</span>
</pre></div>


<p>In[8]:</p>
<div class="codehilite"><pre><span class="n">me</span><span class="o">.</span><span class="n">statuses_count</span>
</pre></div>


<p>Out[8]:</p>
<div class="codehilite"><pre> 1570
</pre></div>


<p>In[9]:</p>
<div class="codehilite"><pre><span class="kn">from</span> <span class="nn">IPython.core.display</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">mepic</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">profile_image_url</span>
<span class="n">Image</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">mepic</span><span class="p">)</span>
</pre></div>


<p>Out[9]:</p>
<p><img alt="my mascot" src="static/images/myMascot_normal.png" /></p>
<hr />
<h3>Rate limits</h3>
<p>For items that return a dict, you can simply iterate through the list</p>
<p>In[10]:</p>
<div class="codehilite"><pre><span class="nb">type</span><span class="p">(</span><span class="n">myapi</span><span class="o">.</span><span class="n">rate_limit_status</span><span class="p">())</span>

<span class="c">#lets work through a returned dict</span>

<span class="n">rl</span> <span class="o">=</span> <span class="n">myapi</span><span class="o">.</span><span class="n">rate_limit_status</span><span class="p">()</span>

<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">rl</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> : </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

 <span class="n">photos</span> <span class="p">:</span> <span class="p">{</span><span class="s">u&#39;daily_limit&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s">u&#39;reset_time&#39;</span><span class="p">:</span> <span class="s">u&#39;Sun Apr 21 17:21:43 +0000</span>
 <span class="mi">2013</span><span class="s">&#39;, u&#39;</span><span class="n">remaining_hits</span><span class="s">&#39;: 100, u&#39;</span><span class="n">reset_time_in_seconds</span><span class="s">&#39;: 1366564903}</span>
 <span class="n">remaining_hits</span> <span class="p">:</span> <span class="mi">346</span>
 <span class="n">reset_time_in_seconds</span> <span class="p">:</span> <span class="mi">1366482078</span>
 <span class="n">hourly_limit</span> <span class="p">:</span> <span class="mi">350</span>
 <span class="n">reset_time</span> <span class="p">:</span> <span class="n">Sat</span> <span class="n">Apr</span> <span class="mi">20</span> <span class="mi">18</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mi">18</span> <span class="o">+</span><span class="mo">0000</span> <span class="mi">2013</span>
</pre></div>


<p>Another way to access variables within the api...</p>
<p>In[11]:</p>
<div class="codehilite"><pre><span class="n">myapi</span><span class="o">.</span><span class="n">rate_limit_status</span><span class="p">()[</span><span class="s">&#39;remaining_hits&#39;</span><span class="p">]</span>
</pre></div>


<p>Out[11]:</p>
<div class="codehilite"><pre> 350
</pre></div>


<p>In[12]:</p>
<div class="codehilite"><pre><span class="kn">import</span> <span class="nn">datetime</span>
<span class="c"># get the reset time from twitter call</span>
<span class="n">twitime</span> <span class="o">=</span> <span class="n">myapi</span><span class="o">.</span><span class="n">rate_limit_status</span><span class="p">()[</span><span class="s">&#39;reset_time_in_seconds&#39;</span><span class="p">]</span>

<span class="c">#convert the time</span>
<span class="n">timere</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">twitime</span><span class="p">))</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;%Y-%m-</span><span class="si">%d</span><span class="s"> %H:%M:%S&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39;Twitter will reset at:&#39;</span><span class="p">,</span> <span class="n">timere</span><span class="p">)</span>

 <span class="p">(</span><span class="s">&#39;Twitter will reset at:&#39;</span><span class="p">,</span> <span class="s">&#39;2013-04-20 11:21:18&#39;</span><span class="p">)</span>
</pre></div>


<p>In[13]:</p>
<div class="codehilite"><pre><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">myapi</span><span class="o">.</span><span class="n">user_timeline</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

 <span class="n">Rocking</span> <span class="c">#iPythonNotebook and tweepy</span>
 <span class="n">Have</span> <span class="n">you</span> <span class="n">heard</span> <span class="err">‘</span><span class="n">Sisi</span> <span class="o">-</span> <span class="n">Stay</span> <span class="o">-</span> <span class="n">Funk</span> <span class="n">Ferret</span> <span class="n">Edit</span><span class="err">’</span> <span class="n">by</span> <span class="n">FunkFerret</span> <span class="n">on</span>
 <span class="c">#SoundCloud? https://t.co/lrdhjdOmDa</span>
 <span class="n">Have</span> <span class="n">you</span> <span class="n">heard</span> <span class="err">‘</span><span class="n">Rufus</span> <span class="n">Thomas</span> <span class="o">-</span> <span class="n">Itch</span> <span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span> <span class="n">Scratch</span> <span class="o">-</span> <span class="n">Funk</span> <span class="n">Ferret</span> <span class="n">Edit</span><span class="err">’</span> <span class="n">by</span>
 <span class="n">FunkFerret</span> <span class="n">on</span> <span class="c">#SoundCloud? https://t.co/JW2sKvlvvV</span>
 <span class="n">Can</span> <span class="n">you</span> <span class="n">get</span> <span class="n">paid</span> <span class="n">to</span> <span class="n">evaluate</span> <span class="n">OSS</span> <span class="n">python</span> <span class="n">packages</span><span class="err">?</span>
 <span class="n">Rocking</span> <span class="c">#iPythonNotebook and tweepy</span>
 <span class="nd">@UnlearningEcon</span> <span class="n">Outcomes</span> <span class="n">are</span> <span class="n">NEVER</span> <span class="n">certain</span><span class="o">.</span> <span class="n">More</span> <span class="n">thinking</span> <span class="ow">and</span> <span class="n">less</span> <span class="n">emotion</span>
 <span class="n">would</span> <span class="n">make</span> <span class="n">the</span> <span class="n">world</span> <span class="n">a</span> <span class="n">better</span> <span class="n">place</span><span class="o">.</span>
 <span class="nd">@kennethlove</span> <span class="n">Right</span> <span class="n">on</span><span class="p">,</span> <span class="n">can</span><span class="s">&#39;t wait!!!</span>
 <span class="nd">@kennethlove</span> <span class="n">Really</span> <span class="n">AWESOME</span> <span class="c">#GSWD tut(s)... Muchas Gracias! More coming soon</span>
 <span class="n">I</span> <span class="n">hope</span><span class="err">?</span>
 <span class="n">I</span> <span class="n">am</span> <span class="n">working</span> <span class="n">on</span> <span class="n">data</span> <span class="n">analysis</span> <span class="k">with</span> <span class="c">#pandas and #iPython for a GIS project</span>
 <span class="n">that</span> <span class="n">may</span> <span class="n">help</span> <span class="c">#firefighters be more efficient.</span>
 <span class="n">Back</span> <span class="n">on</span> <span class="n">the</span> <span class="n">horse</span> <span class="n">after</span> <span class="n">a</span> <span class="n">one</span> <span class="n">month</span> <span class="n">non</span><span class="o">-</span><span class="n">programming</span> <span class="n">hiatus</span><span class="o">.</span> <span class="n">Feels</span> <span class="n">good</span><span class="o">...</span>
 <span class="ow">and</span> <span class="n">my</span> <span class="n">fingers</span> <span class="n">still</span> <span class="n">remember</span> <span class="c">#emacs. #python #iPython</span>
 <span class="n">The</span> <span class="n">damage</span> <span class="n">has</span> <span class="n">already</span> <span class="n">been</span> <span class="n">done</span><span class="o">.</span> <span class="n">The</span> <span class="c">#bankrun will proceed as if the tax</span>
 <span class="n">levy</span> <span class="n">had</span> <span class="n">passed</span><span class="o">.</span> <span class="c">#Cyprus</span>
 <span class="nd">@charlesfrith</span> <span class="n">short</span> <span class="n">on</span> <span class="n">math</span> <span class="n">eh</span><span class="err">???</span>
 <span class="n">Enough</span> <span class="n">politics</span><span class="p">,</span> <span class="n">back</span> <span class="n">to</span> <span class="n">programming</span> <span class="ow">and</span> <span class="n">awesomeness</span> <span class="ow">in</span> <span class="n">general</span><span class="o">.</span>
 <span class="c">#hispanics are not dumb people that simply recognize latino names and think,</span>
 <span class="s">&quot;bueno, yo vota para el.&quot;</span>
 <span class="n">Not</span> <span class="n">only</span> <span class="n">that</span><span class="p">,</span> <span class="n">the</span> <span class="c">#republican party thinks that trotting people with</span>
 <span class="n">hispanic</span> <span class="n">last</span> <span class="n">names</span> <span class="n">will</span> <span class="n">to</span> <span class="n">help</span> <span class="s">&quot;win&quot;</span> <span class="n">the</span> <span class="n">hispanic</span> <span class="n">vote</span><span class="o">.</span> <span class="c">#notworking</span>
 <span class="n">The</span> <span class="c">#republican party is so out of touch with my generation I really don&#39;t</span>
 <span class="n">know</span> <span class="n">where</span> <span class="n">to</span> <span class="n">begin</span><span class="o">.</span>
 <span class="nd">@cjno</span> <span class="n">pic</span> <span class="ow">or</span> <span class="n">it</span> <span class="n">didn</span><span class="s">&#39;t happen :-)</span>
</pre></div>


<p>In[14]:</p>
<div class="codehilite"><pre><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">myapi</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&quot;#watertown&quot;</span><span class="p">):</span>
    <span class="k">print</span><span class="s">&#39;name:&#39;</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">from_user</span><span class="p">,</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;:: twit:&#39;</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;geo:&#39;</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">geo</span>

 <span class="n">name</span><span class="p">:</span> <span class="n">Sirajulrox98</span>
 <span class="p">::</span> <span class="n">twit</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@Jessewelle</span><span class="p">:</span> <span class="n">ish</span> <span class="ow">is</span> <span class="n">getting</span> <span class="n">real</span> <span class="ow">in</span> <span class="n">Boston</span><span class="o">.</span> <span class="n">Be</span> <span class="n">safe</span> <span class="n">people</span><span class="o">.</span> <span class="n">Stay</span>
 <span class="ow">in</span> <span class="n">your</span> <span class="n">house</span> <span class="c">#Watertown.</span>
 <span class="n">geo</span><span class="p">:</span> <span class="bp">None</span>
 <span class="n">name</span><span class="p">:</span> <span class="n">ConradddJay</span>
 <span class="p">::</span> <span class="n">twit</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@YourAnonNews</span><span class="p">:</span> <span class="n">Bomber</span><span class="s">&#39;s uncle: It&#39;</span><span class="n">s</span> <span class="n">about</span> <span class="n">being</span> <span class="n">losers</span><span class="o">.</span> <span class="n">Not</span>
 <span class="n">Chechnya</span><span class="o">.</span> <span class="n">Not</span> <span class="n">Islam</span><span class="o">.</span> <span class="n">They</span> <span class="n">deserve</span> <span class="n">to</span> <span class="n">die</span><span class="o">.</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">t</span><span class="o">.</span><span class="n">co</span><span class="o">/</span><span class="n">SH1yhnBUFQ</span> <span class="c">#Watertown</span>
 <span class="c">#BostonBombing</span>
 <span class="n">geo</span><span class="p">:</span> <span class="bp">None</span>
 <span class="n">name</span><span class="p">:</span> <span class="n">Jesicakhua</span>
 <span class="p">::</span> <span class="n">twit</span><span class="p">:</span> <span class="n">This</span> <span class="n">goes</span> <span class="n">to</span> <span class="n">show</span> <span class="n">that</span> <span class="n">law</span> <span class="n">enforcement</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">US</span> <span class="ow">is</span> <span class="n">better</span> <span class="n">that</span>
 <span class="n">most</span> <span class="n">other</span> <span class="n">countries</span><span class="s">&#39; military. #watertown #boston</span>
 <span class="n">geo</span><span class="p">:</span> <span class="bp">None</span>
 <span class="n">name</span><span class="p">:</span> <span class="n">SaraGCeli</span>
 <span class="p">::</span> <span class="n">twit</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@mackissler</span><span class="p">:</span> <span class="n">Little</span> <span class="n">boy</span> <span class="n">goes</span> <span class="n">up</span> <span class="n">to</span> <span class="n">police</span> <span class="n">officers</span> <span class="ow">and</span> <span class="n">says</span>
 <span class="s">&quot;thank you!&quot;</span> <span class="n">Near</span> <span class="n">the</span> <span class="c">#Watertown home where the suspect was caught.</span>
 <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">t</span><span class="o">.</span><span class="n">co</span><span class="o">/</span><span class="n">xoGlNqx2Lt</span>
 <span class="n">geo</span><span class="p">:</span> <span class="bp">None</span>
 <span class="n">name</span><span class="p">:</span> <span class="n">Gina_Gillespie</span>
 <span class="p">::</span> <span class="n">twit</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@AJELive</span><span class="p">:</span> <span class="n">Dead</span> <span class="c">#Boston bombings suspect was interviewed by FBI</span>
 <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">t</span><span class="o">.</span><span class="n">co</span><span class="o">/</span><span class="n">hLSqKYKZUz</span> <span class="c">#Watertown</span>
 <span class="n">geo</span><span class="p">:</span> <span class="bp">None</span>
 <span class="n">name</span><span class="p">:</span> <span class="n">bumpinuglies55</span>
 <span class="p">::</span> <span class="n">twit</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@MentalityMag</span><span class="p">:</span> <span class="c">#Watertown Police Chief claims Tamerlan Tsarnaev</span>
 <span class="n">was</span> <span class="n">cuffed</span> <span class="ow">and</span> <span class="n">alive</span> <span class="n">on</span> <span class="n">the</span> <span class="n">ground</span> <span class="n">when</span> <span class="n">Dzhokhar</span> <span class="n">ran</span> <span class="n">him</span> <span class="n">over</span> <span class="k">with</span> <span class="n">stolen</span> <span class="n">SUV</span><span class="p">,</span>
 <span class="n">killing</span> <span class="n">him</span><span class="o">.</span>
 <span class="n">geo</span><span class="p">:</span> <span class="bp">None</span>
 <span class="n">name</span><span class="p">:</span> <span class="n">watertowntab</span>
 <span class="p">::</span> <span class="n">twit</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@ThatGuyBoston</span> <span class="n">We</span> <span class="n">are</span> <span class="c">#watertown. We are boston. We are the</span>
 <span class="n">United</span> <span class="n">States</span> <span class="n">of</span> <span class="n">America</span><span class="o">.</span> <span class="n">Proud</span> <span class="n">to</span> <span class="n">be</span> <span class="n">a</span> <span class="n">family</span> <span class="n">of</span> <span class="n">Boston</span> <span class="n">Firefighters</span>
 <span class="n">geo</span><span class="p">:</span> <span class="bp">None</span>
 <span class="n">name</span><span class="p">:</span> <span class="n">DMillsTheGod</span>
 <span class="p">::</span> <span class="n">twit</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@AJELive</span><span class="p">:</span> <span class="n">Dead</span> <span class="c">#Boston bombings suspect was interviewed by FBI</span>
 <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">t</span><span class="o">.</span><span class="n">co</span><span class="o">/</span><span class="n">hLSqKYKZUz</span> <span class="c">#Watertown</span>
 <span class="n">geo</span><span class="p">:</span> <span class="bp">None</span>
 <span class="n">name</span><span class="p">:</span> <span class="n">watertowntab</span>
 <span class="p">::</span> <span class="n">twit</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@GarrettQuinn</span> <span class="n">resident</span> <span class="n">Taryn</span> <span class="n">Sullivan</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="n">says</span> <span class="n">she</span> <span class="n">was</span> <span class="n">nervous</span>
 <span class="n">but</span> <span class="s">&quot;put my faith in the #Watertown, State Police&quot;</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">t</span><span class="o">.</span><span class="n">co</span><span class="o">/</span><span class="il">39L</span><span class="n">f9HB32t</span>
 <span class="n">geo</span><span class="p">:</span> <span class="bp">None</span>
 <span class="n">name</span><span class="p">:</span> <span class="n">infolibri</span>
 <span class="p">::</span> <span class="n">twit</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@AJELive</span><span class="p">:</span> <span class="n">Dead</span> <span class="c">#Boston bombings suspect was interviewed by FBI</span>
 <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">t</span><span class="o">.</span><span class="n">co</span><span class="o">/</span><span class="n">hLSqKYKZUz</span> <span class="c">#Watertown</span>
 <span class="n">geo</span><span class="p">:</span> <span class="bp">None</span>
 <span class="n">name</span><span class="p">:</span> <span class="n">fabian70813</span>
 <span class="p">::</span> <span class="n">twit</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@YourAnonNews</span><span class="p">:</span> <span class="n">Cop</span> <span class="n">to</span> <span class="n">NBC</span> <span class="n">reporter</span><span class="p">:</span><span class="s">&quot;if you knew what was going</span>
 <span class="n">on</span><span class="p">,</span> <span class="n">you</span> <span class="n">wouldn</span><span class="s">&#39;t be standing here right now.&quot;#watertown #manhunt #Boston via</span>
<span class="nd">@CiaPressOffice</span>
 <span class="n">geo</span><span class="p">:</span> <span class="bp">None</span>
 <span class="n">name</span><span class="p">:</span> <span class="n">PatrakaarPopat</span>
 <span class="p">::</span> <span class="n">twit</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@AJELive</span><span class="p">:</span> <span class="n">Dead</span> <span class="c">#Boston bombings suspect was interviewed by FBI</span>
 <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">t</span><span class="o">.</span><span class="n">co</span><span class="o">/</span><span class="n">hLSqKYKZUz</span> <span class="c">#Watertown</span>
 <span class="n">geo</span><span class="p">:</span> <span class="bp">None</span>
 <span class="n">name</span><span class="p">:</span> <span class="n">HaaziqUvais</span>
 <span class="p">::</span> <span class="n">twit</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@lisawilliams</span><span class="p">:</span> <span class="n">Police</span> <span class="n">searched</span> <span class="n">my</span> <span class="n">house</span> <span class="k">while</span> <span class="n">I</span> <span class="n">was</span> <span class="n">away</span><span class="o">.</span> <span class="n">Attic</span>
 <span class="n">door</span> <span class="nb">open</span> <span class="n">items</span> <span class="n">on</span> <span class="n">floor</span><span class="o">.</span> <span class="n">No</span> <span class="n">complaints</span><span class="p">:</span> <span class="n">doing</span> <span class="n">their</span> <span class="n">job</span><span class="o">.</span> <span class="c">#watertown</span>
 <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">t</span><span class="o">.</span><span class="n">co</span><span class="o">/</span><span class="n">A4lw0ZBxoJ</span>
 <span class="n">geo</span><span class="p">:</span> <span class="bp">None</span>
 <span class="n">name</span><span class="p">:</span> <span class="n">Slainte2505</span>
 <span class="p">::</span> <span class="n">twit</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@OpocAnOn</span><span class="p">:</span> <span class="c">#Dzhokhar #Tsarnaev in this wider picture running</span>
 <span class="kn">from</span> <span class="nn">second</span> <span class="nn">bombing</span> <span class="nn">in</span> <span class="err">#</span><span class="nn">bostonbombing</span> <span class="err">#</span><span class="nn">manhunt</span> <span class="err">#</span><span class="nn">Watertown</span> <span class="nn">http</span><span class="err">://</span><span class="nn">t.co</span><span class="err">/</span><span class="nn">LXWlVR9RkQ</span>
 <span class="n">geo</span><span class="p">:</span> <span class="bp">None</span>
</pre></div>


<p>In[15]:</p>
<div class="codehilite"><pre><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">myapi</span><span class="o">.</span><span class="n">lists_subscriptions</span><span class="p">():</span>
    <span class="k">print</span> <span class="n">i</span><span class="o">.</span><span class="n">name</span>

 <span class="n">pythonistas</span>
 <span class="n">python</span>
 <span class="n">Rails</span>
 <span class="n">rails</span> <span class="n">guys</span>
 <span class="n">Rails</span>
 <span class="n">tech</span> <span class="n">pundits</span>
 <span class="n">peoplewhomakestuff</span>
 <span class="n">Microsoft</span>
 <span class="n">MSExpSLTeam</span>
 <span class="n">Rad</span> <span class="n">Designers</span>
 <span class="n">The</span> <span class="n">Pixel</span> <span class="n">Horde</span>
 <span class="n">Designer</span>
 <span class="n">Cool</span> <span class="n">Infographics</span> <span class="n">People</span>
 <span class="n">visual</span><span class="o">-</span><span class="n">effects</span><span class="o">-</span><span class="n">peeps</span>
 <span class="n">Design</span><span class="o">/</span><span class="n">Animation</span>
 <span class="n">design</span>
 <span class="n">design</span>
 <span class="n">Design</span><span class="p">,</span> <span class="n">UI</span><span class="p">,</span> <span class="n">Arts</span> <span class="o">&amp;</span> <span class="n">co</span>
 <span class="n">Graphics</span> <span class="n">Software</span>
 <span class="n">UX</span> <span class="o">-</span> <span class="n">IxD</span>
</pre></div>


<p>In[16]:</p>
<div class="codehilite"><pre><span class="n">myapi</span><span class="o">.</span><span class="n">update_status</span><span class="p">(</span><span class="s">&#39;Someone looking for a part-time #pythondev?&#39;</span><span class="p">)</span>
</pre></div>


<p>Out[16]:</p>
<div class="codehilite"><pre> <span class="o">&lt;</span><span class="n">tweepy</span><span class="p">.</span><span class="n">models</span><span class="p">.</span><span class="n">Status</span> <span class="n">at</span> 0<span class="n">x108228d10</span><span class="o">&gt;</span>
</pre></div>


<p>In[19]:</p>
<div class="codehilite"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">tweet_length</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">status</span> <span class="ow">in</span> <span class="n">tweepy</span><span class="o">.</span><span class="n">Cursor</span><span class="p">(</span><span class="n">myapi</span><span class="o">.</span><span class="n">user_timeline</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="mi">50</span><span class="p">):</span>
     <span class="n">tweet_length</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>

<span class="c"># Convert tweet_length to numpy array</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">tweet_length</span><span class="p">)</span>

<span class="c">#now calc mean</span>
<span class="n">vf</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

<span class="c">#now plot it</span>
<span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="s">&#39;gd&#39;</span><span class="p">)</span>

<span class="c">#Horizontal line</span>
<span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">92</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;r&#39;</span><span class="p">)</span>

<span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;Number of Tweets&#39;</span><span class="p">)</span>
<span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Number of Characters&#39;</span><span class="p">)</span>
<span class="n">title</span><span class="p">(</span><span class="s">&#39;Mean length of last 50 tweets: </span><span class="si">%f</span><span class="s"> characters&#39;</span> <span class="o">%</span><span class="n">vf</span><span class="p">)</span>

<span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</pre></div>


<p><img alt="plot" src="/static/images/tweepy-ipynb.png" /></p></div>
		<div>
		</article>
			<h2>Comments</h2>
		 				
		<div>
	</div>

    </section>
	<!--sidebar-->
            <aside id="sidebar" class="alignright span4">
                <section class="blog-category">
                    <div class="title-divider">
                        <h3 class="title-sidebar">Categories</h3>
                    </div>
                    <ul class="ul-col2 clearfix">
                        		<li ><a href="./category/apps.html"><i class="icon-chevron-right"></i>apps</a></li>
	            		<li ><a href="./category/as3.html"><i class="icon-chevron-right"></i>as3</a></li>
	            		<li ><a href="./category/design.html"><i class="icon-chevron-right"></i>design</a></li>
	            		<li class="active"><a href="./category/ipython-notebooks.html"><i class="icon-chevron-right"></i>iPython-Notebooks</a></li>
	            		<li ><a href="./category/mobile.html"><i class="icon-chevron-right"></i>mobile</a></li>
	            		<li ><a href="./category/programming.html"><i class="icon-chevron-right"></i>programming</a></li>
	            		<li ><a href="./category/python.html"><i class="icon-chevron-right"></i>python</a></li>
	            		<li ><a href="./category/terms.html"><i class="icon-chevron-right"></i>terms</a></li>
	            		<li ><a href="./category/web-development.html"><i class="icon-chevron-right"></i>web development</a></li>
	                                </ul>
                </section>
                <section class="blog-category">
                    <div class="title-divider">
                        <h3 class="title-sidebar">Archives</h3>
                    </div>
                    <ul class="ul-col2 clearfix">
                    	<li><a href="archives.html"><i class="icon-chevron-right"></i>Complete Listing</a></li>
                    </ul>
                </section>
            </aside>
</section>
<!--footer-->
<footer id="footer">
    <div class="row-fluid">

        <div class="span4">
            <div class="title-divider">
                <h3>Thank You!</h3>
            </div>
            <div>
                <p>Hey guys and gals! Thanks for visiting my blog, where the hope is to provide something of marginal utility. I am a full-time student in Computer Science and looking for internships or contract work. Drop me a line here: michael at caffeineindustries.com or send me a <a href="http://twitter.com/MonkMartinez">Tweet!</a></p>
            </div>
        </div>
        <div class="span8">
            <div class="title-divider">
                <h3>Tweets</h3>
            </div>
            <div id='tweets'></div>
        </div>
        </div>
</footer>

<!--footer menu-->
<section id="footer-menu">
    <div class="row-fluid">
        <p class="span8">&copy 2012 Michael Martinez <a style="color:#e1e1e1" href="#">Here</a></p>
        <p class="span4"><span class="pull-right">Copyright 2012 - All Rights Reserved</span></p>
    </div>
</section>
<!-- end footer -->

</div><!-- main wrap -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40370188-1', 'michaelmartinez.in');
  ga('send', 'pageview');

</script>
</body>
</html>
<!-- Localized -->